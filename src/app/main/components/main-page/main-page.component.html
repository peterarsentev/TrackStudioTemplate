<div class="container-fluid">
  <div class="row mb-lg-3">
    <div class="col-sm-6">
      <span class="font-weight-bold">Общая активность {{': ' + login }}</span>
      <app-chart [activity]="ua"></app-chart>
    </div>
    <div class="col-sm-6">
      <span class="font-weight-bold">Выполненные уроки</span>
      <app-chart [activity]="uaSolved"></app-chart>
    </div>
  </div>
  <div class="row">
    <div class="col-sm-6">
      <table class="table">
        <thead>
        <tr>
          <th scope="col" class="font-weight-bold">Прогресс обучения</th>
          <th scope="col"></th>
        </tr>
        </thead>
        <tbody>
        <tr>
          <td>Выполнено уроков {{solvedTasksCount}} из {{allTasksCount}}</td>
          <td>
            <app-progress-bar-view [allTasksCount]="allTasksCount"
                                   [solvedTasksCount]="solvedTasksCount"
                                   [barValue]="tasksBarValue"
            ></app-progress-bar-view>
          </td>
        </tr>
        <tr>
          <td>Выполнено упражнений {{solvedExerciseCount}} из {{totalExerciseCount}}</td>
          <td>
            <app-progress-bar-view [allTasksCount]="totalExerciseCount"
                                   [solvedTasksCount]="solvedExerciseCount"
                                   [barValue]="solBarValue"
            ></app-progress-bar-view>
          </td>
        </tr>
        <tr>
          <td>Начало обучения:</td>
          <td>{{ submitDate | getDate }}</td>
        </tr>
        <tr>
          <td>Последняя активность в курсе:</td>
          <td>{{ updateDate | getDate }}</td>
        </tr>
        <tr>
          <td>Всего дней с начала обучения:</td>
          <td>{{ countOfDays }}</td>
        </tr>
        <tr>
          <td>Количество задач в день:</td>
          <td>{{ speed | number: '1.2-2' }}</td>
        </tr>
        <tr>
          <td>Ожидаемая дата завершения:</td>
          <td>{{ endOfCourse }}</td>
        </tr>
        </tbody>
      </table>
    </div>
    <div class="col-sm-6">
      <table class="table">
        <thead>
        <tr>
          <th scope="col" class="font-weight-bold">Доступные уровни</th>
          <th scope="col"></th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let l of levels">
          <td class="w-50">
            {{ l.name }}<br/>
          </td>
          <td class="w-50">
            <app-progress-bar-view [allTasksCount]="l.all"
                                   [solvedTasksCount]="l.solved"
                                   [barValue]="l.progress"
            ></app-progress-bar-view>
          </td>
        </tr>
        </tbody>
      </table>
    </div>
  </div>
  <app-info *ngIf="showNews"></app-info>
  <app-discussion-block *ngIf="discussions.length > 0" [discussions]="discussions"
                        [user]="user"
                        [inTask]="false"
                        [needToShow]="true"
                        [canResponse]="false"
                        [title]="'Комментарии ученика'"
                        (updateEmitter)="updateDiscussion($event)"
  ></app-discussion-block>
</div>
