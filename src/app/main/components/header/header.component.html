<nav class="navbar navbar-expand-lg navbar-dark bg-dark border-bottom">
  <span class="navbar-text mr-3">
          <a [routerLink]="['/']"
          ><i class="fa fa-home fa-2x" aria-hidden="true"></i></a>
        </span>
  <span class="input-group mr-3 w-25">
          <input
            type="text"
            #text
            class="form-control bg-dark text-white"
            placeholder="Поиск"
            aria-label="Поиск"
            aria-describedby="basic-addon2"/>
           <div *ngIf="searchResult" (click)="clearSearch()" class="dropdown-menu2">
             <div *ngIf="searchResult.tasks">
             <p class="dropdown-header">Задачи</p>
              <div role="separator" class="dropdown-divider"></div>
                <a *ngFor="let t of searchResult.tasks" class="dropdown-item"
                   routerLink="/discuss/{{t.id}}">{{t.name}}</a>
             <div role="separator" class="dropdown-divider"></div>
               </div>
             <div *ngIf="searchResult.exercises">
              <p class="dropdown-header">Упражнения</p>
              <div role="separator" class="dropdown-divider"></div>
                   <a *ngFor="let e of searchResult.exercises"
                      class="dropdown-item" routerLink="/discuss/{{e.id}}">{{e.name}}</a>
              <div role="separator" class="dropdown-divider"></div>
               </div>
             <div *ngIf="searchResult.discuss">
                   <p class="dropdown-header">Обсуждения</p>
                   <div role="separator" class="dropdown-divider"></div>
                   <a *ngFor="let d of searchResult.discuss"
                      class="dropdown-item" routerLink="/discuss/{{d.id}}">{{d.name}}</a>
             </div>
      </div>
          <span class="input-group-append">
            <button (click)="search(text.value)" class="btn btn-outline-secondary" type="button">
              <i class="fa fa-search" aria-hidden="true"></i>
            </button>
          </span>
        </span>
  <span class="navbar-text  mr-3 font-weight-bold">
          <a [routerLink]="['/exercise']" style="text-decoration: none"
          >Уроки</a>
        </span>

  <div class="dropdown mr-3">
    <button class="btn dropdown-toggle font-weight-bold text-white" type="button" id="solutionDd"
            data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
      Решения
    </button>
    <div class="dropdown-menu dropdown-menu-left" aria-labelledby="solutionDd">
      <a class="dropdown-item" [routerLink]="['/tasksByStatus/revert']">Отклоненные</a>
      <a class="dropdown-item" [routerLink]="['/tasksByStatus/finished']">Выполненные</a>
      <a class="dropdown-item" [routerLink]="['/tasksByStatus/review']">На проверке</a>
    </div>
  </div>

  <span class="navbar-text mr-3 font-weight-bold">
          <a [routerLink]="['/discuss']" style="text-decoration: none">Обсуждения</a>
                <span *ngIf="discussCount?.count > 0" (click)="goToListOfDiscuss()"
                      class="badge badge-primary badge-pill pos ml-1">{{ discussCount?.count }}</span>
        </span>

  <div class="dropdown mr-3">
    <button class="btn dropdown-toggle font-weight-bold text-white" type="button" id="exercises"
            data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
      Упражнения
    </button>
    <ul class="dropdown-menu dropdown-menu-dark dropdown-menu-left" aria-labelledby="exercises">
      <li><a class="dropdown-item" [routerLink]="['/topics']">Java Core</a></li>
      <li><a class="dropdown-item" [routerLink]="['/sqlExercise']">SQL</a></li>
    </ul>
  </div>

  <span class="navbar-text mr-3 font-weight-bold">
          <a [routerLink]="['/exams']" style="text-decoration: none;"
          >Экзамены</a>
        </span>

  <div class="dropdown mr-3">
    <button class="btn dropdown-toggle font-weight-bold text-white" type="button" id="exercisesDd"
            data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
      Закладки
    </button>
    <ul class="dropdown-menu dropdown-menu-dark dropdown-menu-left" aria-labelledby="exercisesDd">
      <li *ngFor="let book of bookmarks"><a (click)="goToBook(book)" class="dropdown-item point">{{ book.name }}</a></li>
    </ul>
  </div>
  <div *ngIf="navShow" class="collapse navbar-collapse" id="navbarText">
    <ul class="navbar-nav mr-auto"></ul>
    <span *ngIf="notifications && count > 0"
          style="cursor: pointer;"
          (click)="readMessages()"
          class="ml-3 badge badge-primary badge-pill text-white"
    >{{ count }}</span>
    <div class="dropdown" *ngIf="user">
      <button class="btn dropdown-toggle text-white" type="button" id="dropdownMenuButton"
              data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
        {{ user.name }}
      </button>
      <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuButton">
        <a class="dropdown-item" [routerLink]="['/profile']">Настройки</a>
        <a class="dropdown-item" [routerLink]="['/payment']">Оплата</a>
        <a class="dropdown-item" [routerLink]="['/vacancies']">Вакансии</a>
        <a class="dropdown-item" [routerLink]="['/company']">Компании</a>
        <a href="https://github.com/peterarsentev/job4j_features_bugs/issues" target="_blank"
           class="dropdown-item">
          Критика и предложения
        </a>
        <a class="dropdown-item" [routerLink]="['/rating']">Рейтинг
          <span style="cursor: pointer;"
                class="ml-0"
          >{{ position }}</span></a>
        <a class="dropdown-item" (click)="clearStorage()" [routerLink]="['/login']">Выйти</a>
      </div>
    </div>
  </div>
</nav>
<app-admin-message *ngIf="message" [message]="message"></app-admin-message>
<div class="container">
  <app-navigation (getMessage)="getMessage()"
                  *ngIf="navShow"
  ></app-navigation>
  <router-outlet></router-outlet>
</div>
<div
  class="pr-lg-5 pb-lg-5"
  style="position: fixed; bottom: 0; right: 0; z-index: 1;"
>
  <div class="mb-1" style="cursor: pointer;" onclick="window.scrollTo(0, 0);">
    <i class="fa fa-arrow-circle-up fa-lg"></i>
  </div>
  <div *ngIf="iconComment" class="mb-2" style="cursor: pointer;">
    <i (click)="goToComments()" class="fa fa-comment fa-lg" aria-hidden="true"></i>
  </div>
  <div
    style="cursor: pointer;"
    onclick="window.scrollTo(0, document.body.scrollHeight);"
  >
    <i class="fa fa-arrow-circle-down fa-lg"></i>
  </div>
</div>
<app-footer></app-footer>
